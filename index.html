<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>Luminis &raquo; Renderer Prototype</title>
		<link rel="stylesheet" type="text/css" href="css/viewport.css"/>
		<script src="js/jquery-1.6.4.min.js"></script>
		<script src="js/raphael-min.js"></script>
		<script src="js/sylvester.js"></script>
		<script type="text/javascript">
			$(function(){
				$("#viewports").addClass("viewports").children().addClass("viewport");
			});
		</script>
		<script>
			var scale = 70;
			var center = Vector.create([240,240]);
			
			var v0 = Vector.create([0,0]);
			var v1 = Vector.create([1,0]);
			
			var viewportTransform = function(scale, center) {
				return function(v) {return v.x(scale).add(center);};
			}
		</script>
		<script type="text/javascript">
			$(function(){
				var os = [
					{id: "xy", axis: true, scene: [v0, v1], viewport: viewportTransform(70,center)}, 
					{id: "xz", axis: true},
					{id: "yz", axis: true},
					{id: "xyz", axis: false}
				];
				
				for (var index = 0; index < os.length; index++) {
					var o = os[index];
					var paper = Raphael(o.id, 480, 480);
					
					if (o.axis) {
						paper.path("M240 0L240 480").attr({stroke: 'gray'});
						paper.path("M0 240L480 240").attr({stroke: 'gray'});
					}
					
					if (o.scene) {
						for (var i = 0; i < o.scene.length; i++) {
							var point = o.viewport(o.scene[i]);
							paper.circle(point.e(1),point.e(2),3).attr({fill: 'black', stroke: 'black'});
						}
					}
				}
			});
		</script>
	</head>
	<body>
		<h1>Renderer Prototype</h1>
		<div id="viewports">
			<div id="xy"></div><div id="xz"></div><div id="yz"></div><div id="xyz"></div>
		</div>
	</body>
</html>
